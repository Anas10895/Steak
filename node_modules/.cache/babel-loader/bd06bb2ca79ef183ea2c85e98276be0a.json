{"ast":null,"code":"var _jsxFileName = \"/Users/anasshar/Documents/GitHub/SEI/projects/Steak/cafe/Steak/coffee/src/components/Update.jsx\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Form, Button, Alert } from 'react-bootstrap';\nimport React, { Component } from 'react';\nimport jwt_decode from 'jwt-decode';\nimport axios from 'axios';\nimport SweetAlert from 'sweetalert2-react';\nlet token = localStorage.usertoken;\nconst decoded = jwt_decode(token);\nexport default class ChangePassword extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      wrong: false\n    };\n\n    this.onChangeHandler = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onSubmitHandelr = e => {\n      e.preventDefault();\n      axios.put(`http://localhost:2551/api/v1/users/profile/${decoded._id}`, {\n        password: this.state.password,\n        newPassword: this.state.newPassword\n      }).then(res => {\n        if (\"password not match\" == res.data.msg) {\n          this.setState({\n            wrong: true\n          });\n        } else {\n          this.setState({\n            show: true\n          });\n        }\n      });\n    };\n  }\n\n  render() {\n    console.log(decoded._id);\n    return React.createElement(\"div\", {\n      className: \"formcontainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(SweetAlert, {\n      show: this.state.show,\n      title: \"Change Password\",\n      text: \"the password has been changed\",\n      onConfirm: () => {\n        this.props.history.push('/profile');\n        this.setState({\n          show: false\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }), this.state.wrong && ['danger'].map((variant, idx) => React.createElement(Alert, {\n      key: idx,\n      variant: variant,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"the old password not correct\")), React.createElement(\"div\", {\n      className: \"top\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"Change Password\"), React.createElement(\"div\", {\n      className: \"form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(Form, {\n      onSubmit: this.onSubmitHandelr,\n      noValidate: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"table col-md-6 mx-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      controlId: \"formBasicPassword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      type: \"password\",\n      placeholder: \"Password\",\n      name: \"password\",\n      onChange: this.onChangeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      controlId: \"formBasicPassword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      type: \"password\",\n      placeholder: \"New Password\",\n      name: \"newPassword\",\n      onChange: this.onChangeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }))), React.createElement(Button, {\n      variant: \"secondary\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"Change Password \"))));\n  }\n\n}","map":{"version":3,"sources":["/Users/anasshar/Documents/GitHub/SEI/projects/Steak/cafe/Steak/coffee/src/components/Update.jsx"],"names":["Form","Button","Alert","React","Component","jwt_decode","axios","SweetAlert","token","localStorage","usertoken","decoded","ChangePassword","state","wrong","onChangeHandler","e","setState","target","name","value","onSubmitHandelr","preventDefault","put","_id","password","newPassword","then","res","data","msg","show","render","console","log","props","history","push","map","variant","idx"],"mappings":"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","sourcesContent":["import 'bootstrap/dist/css/bootstrap.min.css';\nimport { Form, Button, Alert } from 'react-bootstrap'\nimport React, { Component } from 'react'\nimport jwt_decode from 'jwt-decode'\nimport axios from 'axios'\nimport SweetAlert from 'sweetalert2-react';\nlet token = localStorage.usertoken\nconst decoded = jwt_decode(token)\n\nexport default class ChangePassword extends Component {\n    state = {\n        wrong: false\n    }\n\n    onChangeHandler = (e) => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    }\n    onSubmitHandelr = (e) => {\n        e.preventDefault()\n        axios.put(`http://localhost:2551/api/v1/users/profile/${decoded._id}`, {\n            password: this.state.password,\n            newPassword: this.state.newPassword\n        })\n            .then(res => {\n                if (\"password not match\" == res.data.msg) {\n                    this.setState({ wrong: true })\n                }\n                else {\n                    this.setState({ show: true })\n                }\n            })\n    }\n    render() {\n        console.log(decoded._id)\n        return (\n            <div className=\"formcontainer\">\n                <SweetAlert\n                    show={this.state.show}\n                    title=\"Change Password\"\n                    text=\"the password has been changed\"\n                    onConfirm={() => {\n                        this.props.history.push('/profile')\n                        this.setState({ show: false })\n                    }}\n                />\n                {this.state.wrong && ['danger'].map((variant, idx) => (\n                    <Alert key={idx} variant={variant}>\n                        the old password not correct\n                </Alert>\n                ))}\n                <div className=\"top\">Change Password</div>\n                <div className=\"form\">\n                    <Form onSubmit={this.onSubmitHandelr} noValidate>\n                    <table className=\"table col-md-6 mx-auto\">\n                        <Form.Group controlId=\"formBasicPassword\">\n                            <Form.Control type=\"password\" placeholder=\"Password\" name=\"password\"\n                                onChange={this.onChangeHandler} />\n                        </Form.Group>\n                        <Form.Group controlId=\"formBasicPassword\">\n                            <Form.Control type=\"password\" placeholder=\"New Password\" name=\"newPassword\"\n                                onChange={this.onChangeHandler} />\n                        </Form.Group>\n                        </table>\n                            <Button variant='secondary' type=\"submit\" >\n                                Change Password </Button>\n                    </Form>\n                </div>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}